# --- BEGIN cPanel PHP handler (mantenha) ---
<IfModule mime_module>
  AddHandler application/x-httpd-ea-php83___lsphp .php .php8 .phtml
</IfModule>
# --- END cPanel PHP handler ---

# Documento inicial
DirectoryIndex index.html

# Evita conflitos de content-negotiation
Options -MultiViews

# (Opcional, recomendado) — evita servir imagem/asset antigo do cache externo
<IfModule mod_headers.c>
  <FilesMatch "\.(png|jpe?g|gif|svg|webp)$">
    Header set Cache-Control "no-cache, must-revalidate"
  </FilesMatch>
</IfModule>

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1) Se for arquivo/pasta real, não reescreve
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # 2) Nunca reescrever caminhos estáticos (assets/images/favicon)
  RewriteCond %{REQUEST_URI} ^/(assets|images|favicon\.png) [NC]
  RewriteRule ^ - [L]

  # 3) Só faz fallback pra SPA se NÃO houver extensão no caminho
  RewriteCond %{REQUEST_URI} !\.[a-z0-9]{2,8}$ [NC]
  RewriteRule ^ index.html [L]
</IfModule>

# Tipos MIME explícitos (robustez)
AddType image/png .png
AddType image/jpeg .jpg .jpeg
AddType image/webp .webp
AddType image/svg+xml .svg